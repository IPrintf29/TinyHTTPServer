<svg width="1545" height="720" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="0" y="0" width="1545" height="720"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="1545" height="719.767" fill="#FFFFFF"/><path d="M599.167 80.4739 599.167 170.958 597.833 170.958 597.833 80.4739ZM602.501 169.624 598.5 177.624 594.499 169.624Z"/><rect x="77.5" y="18.494" width="227" height="435.859" stroke="#0070C0" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><rect x="77.5" y="261.415" width="227" height="434.859" stroke="#00B050" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><text font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999676 121.171 107)">I/0<tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="27" x="29.5096" y="0">处理单元</tspan><tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="27" x="13.4126" y="252.082">逻辑业务</tspan><tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="27" x="13.4126" y="282.091">处理单元</tspan><tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="27" x="-12.7519" y="519.168">网络存储单元</tspan></text><rect x="112.5" y="179.442" width="157" height="50.9835" stroke="#B4C7E7" stroke-width="1.33377" stroke-miterlimit="8" fill="#B4C7E7"/><text fill="#FFFFFF" font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 142.396 215)">请求队列</text><rect x="112.5" y="479.345" width="157" height="49.9838" stroke="#B4C7E7" stroke-width="1.33377" stroke-miterlimit="8" fill="#B4C7E7"/><text fill="#FFFFFF" font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 142.396 514)">请求队列<tspan fill="#0070C0" font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-size="27" x="173.049" y="-328.106">(</tspan><tspan fill="#0070C0" font-size="27" x="181.885" y="-328.106">模拟</tspan><tspan fill="#0070C0" font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-size="27" x="235.236" y="-328.106">)</tspan><tspan fill="#0070C0" font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-size="27" x="244.072" y="-328.106">Proactor</tspan><tspan fill="#0070C0" font-size="27" x="334.268" y="-328.106">模式</tspan><tspan fill="#00B050" font-size="27" x="170.23" y="-30.0097">异步日志系统</tspan></text><path d="M269.5 205.433 534.954 205.434" stroke="#0070C0" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none" fill-rule="evenodd"/><path d="M269.5 504.337 480.954 504.337" stroke="#00B050" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none" fill-rule="evenodd"/><rect x="416" y="32.9893" width="637" height="44.9855" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 500.136 66)">主线程循环调用<tspan font-size="24" x="168.054" y="0">epoll</tspan><tspan font-size="24" x="228.074" y="0">同时监听</tspan>socket和信号</text><rect x="543" y="176.943" width="361" height="50.9835" stroke="#B4C7E7" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 567.603 213)">存储主线程已封装的消息结构</text><rect x="1204" y="17.9942" width="157" height="77.9747" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1240.55 68)">外部<tspan font-size="24" x="48.0155" y="0">I/O</tspan></text><path d="M1051.5 42.8192 1198.32 42.8193 1198.32 44.1526 1051.5 44.1525ZM1196.99 39.486 1204.99 43.486 1196.99 47.486Z"/><path d="M4.62717e-07-0.666667 144.595-0.666566 144.595 0.666767-4.62717e-07 0.666667ZM143.262-3.9999 151.262 0.000104987 143.262 4.0001Z" transform="matrix(-1.00032 0 0 1 1202.81 66.4785)"/><path d="M0.657596 0.109599 0.595116 0.484478 0.599621 0.452773 0.474661 1.51493 0.478695 1.46368 0.416215 3.02567 0.416459 3.01863 0.353778 5.14979 0.228477 7.65582 0.229308 7.62253 0.229308 10.3751 0.166792 16.3766 0.106205 16.0919 0.793482 17.5914 0.597868 17.3439 2.59722 18.9059 2.46086 18.8235 5.64733 20.2605 5.59227 20.2386 9.90338 21.7381 9.8478 21.7214 15.2835 23.096 15.262 23.0909 21.5724 24.4655 21.5448 24.4601 28.73 25.7097 28.7136 25.707 36.711 26.8941 36.6988 26.8924 45.3834 28.0171 45.369 28.0154 54.6785 29.015 54.6665 29.0139 64.4759 29.8886 64.4653 29.8877 74.712 30.6375 74.6943 30.6364 96.1873 31.6361 96.1668 31.6355 111.592 31.8761 111.571 33.2093 96.1357 32.9685 74.6235 31.9679 64.3627 31.2171 54.5421 30.3414 45.2194 29.3403 36.5214 28.2139 28.5097 27.0247 21.3024 25.7713 14.9674 24.3913 9.49277 23.007 5.12623 21.4882 1.83958 20.0059-0.350948 18.2946-1.16802 16.5119-1.10399 10.3647-1.10403 10.3716-1.10403 7.60588-0.978234 5.09005-0.978777 5.10374-0.916194 2.97591-0.852545 1.38469-0.722709 0.281078-0.657596-0.109599ZM110.31 28.5224 118.247 32.6467 110.186 36.5214Z" transform="matrix(1.83756e-16 1 1.00032 -1.83697e-16 904.5 197.436)"/><rect x="402.5" y="282.409" width="587" height="144.953" stroke="#FFC000" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><rect x="841" y="314.898" width="125" height="78.9744" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 855.173 365)">工作线程</text><rect x="672" y="314.898" width="125" height="78.9744" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 686.484 365)">工作线程</text><rect x="503" y="314.898" width="125" height="78.9744" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 517.796 365)">工作线程</text><text fill="#FFC000" font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="27" writing-mode="tb-rl" transform="matrix(1.00032 -1.98152e-20 -1.98227e-20 0.999353 441.053 310)" x="9.69998" y="3.79933">线程池</text><rect x="593.5" y="473.347" width="664" height="55.9818" stroke="#C55A11" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><rect x="1070" y="480.844" width="172" height="41.9865" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1083.83 512)">处理<tspan font-size="24" x="48.0155" y="0">HTTP</tspan><tspan font-size="24" x="96.0311" y="0">请求</tspan><tspan font-size="24" x="-284.11" y="-91.0294">线程循环</tspan><tspan font-size="24" x="-284.11" y="-64.0207">执行函数</tspan></text><path d="M0.00225488-0.666663 46.4446-0.509579 46.4401 0.823747-0.00225488 0.666663ZM45.1226-3.8474 53.109 0.179633 45.0955 4.15255Z" transform="matrix(-1.00032 0 0 1 1070.63 502.337)"/><rect x="824" y="480.844" width="193" height="41.9865" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 836.5 512)">处理连接定时器</text><path d="M0.00225488-0.666663 46.4446-0.509579 46.4401 0.823747-0.00225488 0.666663ZM45.1226-3.8474 53.109 0.179633 45.0955 4.15255Z" transform="matrix(-1.00032 0 0 1 824.626 502.337)"/><rect x="628" y="480.844" width="143" height="41.9865" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 651.572 512)">日志输出</text><rect x="481" y="472.847" width="69.0001" height="228.926" stroke="#B4C7E7" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 491.108 554)">存储<tspan font-size="24" x="0" y="29.0094">日志</tspan><tspan font-size="24" x="0" y="57.0184">记录</tspan><tspan font-size="24" x="0" y="86.0278">内容</tspan></text><path d="M904.167 394.372 904.167 469.769 902.833 469.769 902.833 394.372ZM907.501 468.435 903.5 476.435 899.499 468.435Z"/><path d="M0.000773691-0.666666 70.7713-0.584534 70.7697 0.748798-0.000773691 0.666666ZM69.4418-3.91941 77.4372 0.0898688 69.4325 4.08058Z" transform="matrix(-1.00032 0 0 1 627.962 504.337)"/><path d="M550.5 663.618 601.797 663.618 601.797 664.952 550.5 664.952ZM600.463 660.285 608.466 664.285 600.463 668.285Z"/><rect x="611" y="642.792" width="179" height="41.9863" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 628.177 674)">本地日志文件</text><path d="M701.167 523.327 701.746 636.335 700.412 636.342 699.833 523.334ZM705.073 634.985 701.113 643.005 697.071 635.026Z"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="21" writing-mode="tb-rl" transform="matrix(1.00032 -1.98152e-20 -1.98227e-20 0.999353 668.978 543)" x="7.54443" y="2.95504">同步日志</text><path d="M0-0.333333 38.0502-0.333333 56.7322-0.333333 74.9144-0.270852 74.9132-0.270854 92.5325-0.270854 109.402-0.270854 125.398-0.270854 140.268-0.208371 140.267-0.208374 154.013-0.208374 166.385-0.14589 166.384-0.145894 172.007-0.145894 177.255-0.145894 182.129-0.145894 186.505-0.145894 190.506-0.0833736 190.501-0.0834142 194-0.0834142 196.999-0.0834142 199.498-0.0834142 201.442-0.0834142 202.886-0.0206199 202.872-0.0209345 203.747-0.0209345 204.059-0.0209345 204.496-0.0209345 205.689-0.0209345 207.693 0.0417079 207.683 0.0415453 210.432 0.0415453 213.931 0.0415453 218.117 0.0415453 222.99 0.0415453 228.49 0.0415453 234.615 0.104042 234.612 0.104025 241.359 0.104025 248.669 0.104025 256.542 0.104025 264.914 0.104025 273.787 0.104025 283.161 0.166512 283.158 0.166505 292.968 0.166505 303.152 0.166505 313.711 0.166505 336.016 0.166505 359.509 0.166505 384.064 0.228986 409.43 0.228985 435.421 0.228985 461.85 0.228985 481.741 0.199256 481.742 0.865921 461.85 0.895651 435.421 0.895651 409.43 0.895651 384.062 0.89565 359.509 0.833171 336.016 0.833171 313.711 0.833171 303.152 0.833171 292.968 0.833171 283.157 0.833171 273.784 0.770684 273.786 0.770692 264.914 0.770692 256.542 0.770692 248.669 0.770692 241.359 0.770692 234.61 0.770692 228.485 0.708195 228.488 0.708212 222.99 0.708212 218.117 0.708212 213.931 0.708212 210.432 0.708212 207.678 0.708212 205.673 0.64557 205.683 0.645732 204.496 0.645732 204.059 0.645732 203.747 0.645732 202.865 0.645732 201.42 0.582938 201.435 0.583252 199.498 0.583252 196.999 0.583252 194 0.583252 190.498 0.583252 186.497 0.520732 186.502 0.520773 182.129 0.520773 177.255 0.520773 172.007 0.520773 166.383 0.520773 154.011 0.458289 154.013 0.458293 140.266 0.458293 125.395 0.39581 125.397 0.395813 109.402 0.395813 92.5325 0.395813 74.9127 0.395813 56.7305 0.333331 56.7316 0.333333 38.0502 0.333333 0 0.333333ZM480.402-3.46541 488.408 0.522625 480.414 4.53458Z" transform="matrix(1.83756e-16 1 1.00032 -1.83697e-16 1030.5 78.4746)"/><rect x="833.5" y="570.315" width="206" height="128.958" stroke="#FF0000" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><rect x="854" y="642.792" width="148" height="41.9863" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 892.111 674)">时间轮<tspan fill="#FF0000" font-size="21" x="-52.4932" y="-68.022">锁机制同步时间槽</tspan><tspan font-size="24" x="147.5" y="-380.123">转动时间轮</tspan></text><path d="M921.167 523.331 921.167 563.137 919.833 563.137 919.833 523.331ZM924.501 561.804 920.5 569.804 916.499 561.804Z"/><path d="M1078.17 523.331 1078.17 613.177 1076.83 613.177 1076.83 523.331ZM1081.5 611.844 1077.5 619.844 1073.5 611.844Z"/><text font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1082.03 566)">GET</text><rect x="1051" y="619.799" width="84" height="55.9818" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1068.98 644)">静态<tspan font-size="24" x="0" y="29.0094">资源</tspan></text><path d="M1209.17 521.32 1210.23 585.498 1208.89 585.52 1207.83 521.342ZM1213.54 584.11 1209.67 592.175 1205.54 584.242Z"/><text font-family="Times New Roman,Times New Roman_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1142.15 567)">POST (<tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="24" x="78.2587" y="0">注册</tspan><tspan font-size="24" x="132.276" y="0">/ </tspan><tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="24" x="144.947" y="0">登录</tspan><tspan font-size="24" x="198.964" y="0">/ </tspan><tspan font-family="FangSong,FangSong_MSFontService,sans-serif" font-size="24" x="211.635" y="0">修改密码</tspan><tspan font-size="24" x="307.666" y="0">)</tspan></text><rect x="1150.5" y="590.309" width="318" height="104.966" stroke="#FF0000" stroke-width="3.00097" stroke-miterlimit="8" stroke-dasharray="12.0039 9.00291" fill="none"/><rect x="1158" y="599.806" width="69.0001" height="88.9713" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1174.63 640)">LRU<tspan font-size="24" x="-6.00183" y="29.0094">缓存</tspan></text><rect x="1257" y="598.806" width="93.0001" height="88.9711" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1267.32 640)">数据库<tspan font-size="24" x="0" y="29.0094">连接池</tspan></text><rect x="1381" y="597.807" width="79" height="88.9711" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="none"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="24" transform="matrix(1 0 0 0.999676 1390.72 653)">MySQL</text><path d="M1227.51 643.625 1250.48 643.895 1250.47 645.228 1227.49 644.958ZM1249.19 640.546 1257.14 644.64 1249.1 648.545Z"/><path d="M1350.51 644.625 1373.48 644.894 1373.47 646.228 1350.49 645.958ZM1372.19 641.546 1380.14 645.639 1372.1 649.545Z"/><path d="M853.167 78.4746 853.167 168.958 851.833 168.958 851.833 78.4746ZM856.501 167.625 852.5 175.625 848.499 167.625Z"/><rect x="515" y="90.9705" width="162" height="66.9784" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="21" transform="matrix(1 0 0 0.999676 558.787 121)">同步<tspan font-size="21" x="42.6805" y="0">I/O</tspan><tspan font-size="21" x="-21.3402" y="26.0084">CPU</tspan><tspan font-size="21" x="10.6702" y="26.0084">负责读写</tspan></text><rect x="769" y="90.9705" width="162" height="66.9784" stroke="#000000" stroke-width="2.00065" stroke-miterlimit="8" fill="#FFFFFF"/><text font-family="FangSong,FangSong_MSFontService,sans-serif" font-weight="400" font-size="21" transform="matrix(1 0 0 0.999676 812.68 121)">异步<tspan font-size="21" x="42.6805" y="0">I/O</tspan><tspan font-size="21" x="-26.6753" y="26.0084">内核</tspan><tspan font-size="21" x="16.0052" y="26.0084">负责读写</tspan></text></g></svg>